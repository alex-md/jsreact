const e=document.getElementById("input-text"),t=document.getElementById("submit-button"),n=document.getElementById("response"),a=document.getElementById("api-key-input"),o=[],r=/^sk-[A-Za-z0-9]/;async function s(t){t.preventDefault();let s=e.value.trim(),c=a.value.trim();if(!c){n.textContent="Please enter an API key";return}if(!r.test(c)){n.textContent="Invalid API key";return}n.textContent="",n.textContent="Loading...";try{let t=await i(s,c);o.push(t),n.innerHTML=o.map(e=>`<p class="chat-message">${e}</p>`).join(""),e.value=""}catch(e){console.error(e)}}async function i(e,t){let n={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[...o.map(e=>({role:"user",content:e})),{role:"user",content:e}],temperature:.7,max_tokens:160,top_p:1,frequency_penalty:0,presence_penalty:0})},a=await fetch("https://api.openai.com/v1/chat/completions",n);return(await a.json()).choices[0].message.content}t.addEventListener("click",s),e.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),t.click())});
//# sourceMappingURL=chat.31f3a129.js.map
