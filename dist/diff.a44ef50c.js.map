{"mappings":"AAGA,MAAMA,EAAmBC,SAASC,eAAe,oBAC3CC,EAAmBF,SAASC,eAAe,oBAC3CE,EAAmBH,SAASC,eAAe,oBAC3CG,EAAwBJ,SAASC,eAAe,yBAChDI,EAAiBL,SAASC,eAAe,kBACzCK,EAAcN,SAASC,eAAe,eAGtCM,EAAgB,IAAIC,OAAO,SAAU,KAGrCC,EAAyBC,WAAWC,aAAaZ,EAAkB,CACrEa,MAAOb,EAAiBa,MACxBC,aAAa,IAEXC,EAAyBJ,WAAWC,aAAaT,EAAkB,CACrEU,MAAOV,EAAiBU,MACxBC,aAAa,IAIjBP,EAAYS,iBAAiB,SAAS,KAElC,IAAKN,EAAuBO,aAAeF,EAAuBE,WAE9D,OAsBWC,EAvBD,0DAwBdd,EAAiBe,UAAUC,IAAI,UAC/Bd,EAAee,YAAcH,OAC7BZ,EAAea,UAAUG,OAAO,UAHpC,IAAmBJ,EAlBf,MAAMK,EAAa,IAAIC,iBAGjBC,EAAOF,EAAWG,UAAUhB,EAAuBO,WAAYF,EAAuBE,YAG5FM,EAAWI,uBAAuBF,IAkBtC,SAAkBG,GACdtB,EAAea,UAAUC,IAAI,UAC7Bf,EAAsBwB,UAAYD,EAClCxB,EAAiBe,UAAUG,OAAO,SACtC,CAbIQ,CANiBP,EAAWQ,gBAAgBN,GAGTO,QAAQxB,EAAe,IAGjD,IAebP,SAASC,eAAe,eAAec,iBAAiB,SAAS,WAC7D,IAAIiB,EAAehC,SAASiC,cAAc,qBACtCD,GACAA,EAAaX,SAEjB,IAAIa,EAAalC,SAASmC,cAAc,KACxCD,EAAWd,YAAc,2BACzBc,EAAWE,UAAY,+BAEvBpC,SAASiC,cAAc,WAAWI,aAAaH,EAAYlC,SAASC,eAAe,eACvF","sources":["src/scripts/diff.js"],"sourcesContent":["'use strict';\n\n// Cache the DOM elements\nconst originalTextArea = document.getElementById('originalTextArea');\nconst modifiedTextArea = document.getElementById('modifiedTextArea');\nconst diffResponseArea = document.getElementById('diffResponseArea');\nconst diffResponseContainer = document.getElementById('diffResponseContainer');\nconst errorContainer = document.getElementById('errorContainer');\nconst findDiffBtn = document.getElementById('findDiffBtn');\n\n// Create a regular expression to match the paragraph character (Â¶)\nconst returnPattern = new RegExp('&para;', 'g');\n\n// Create CodeMirror editors for the text areas\nconst originalTextAreaEditor = CodeMirror.fromTextArea(originalTextArea, {\n    value: originalTextArea.value,\n    lineNumbers: true,\n});\nconst modifiedTextAreaEditor = CodeMirror.fromTextArea(modifiedTextArea, {\n    value: modifiedTextArea.value,\n    lineNumbers: true,\n});\n\n// Add a click event listener to the \"Find Diff\" button\nfindDiffBtn.addEventListener('click', () => {\n    // Validate the input\n    if (!originalTextAreaEditor.getValue() || !modifiedTextAreaEditor.getValue()) {\n        showError('Please add texts to compare and generate the difference');\n        return;\n    }\n\n    // Create a new diff_match_patch object\n    const diffParser = new diff_match_patch();\n\n    // Get the differences between the two text areas\n    const diff = diffParser.diff_main(originalTextAreaEditor.getValue(), modifiedTextAreaEditor.getValue());\n\n    // Clean up the differences for efficiency\n    diffParser.diff_cleanupEfficiency(diff);\n\n    // Convert the differences to HTML\n    const diffText = diffParser.diff_prettyHtml(diff);\n\n    // Remove the paragraph characters from the HTML\n    const sanitisedDiffText = diffText.replace(returnPattern, '');\n\n    // Show the differences\n    showDiff(sanitisedDiffText);\n});\n\nfunction showError(message) {\n    diffResponseArea.classList.add('d-none');\n    errorContainer.textContent = message;\n    errorContainer.classList.remove('d-none');\n}\n\nfunction showDiff(diffText) {\n    errorContainer.classList.add('d-none');\n    diffResponseContainer.innerHTML = diffText;\n    diffResponseArea.classList.remove('d-none');\n}\n\ndocument.getElementById('findDiffBtn').addEventListener('click', function () {\n    var existingText = document.querySelector('.scroll-down-text');\n    if (existingText) {\n        existingText.remove();\n    }\n    var scrollText = document.createElement('p');\n    scrollText.textContent = 'Scroll down to view diff';\n    scrollText.className = 'text-center scroll-down-text';\n    // place above button\n    document.querySelector('.d-grid').insertBefore(scrollText, document.getElementById('findDiffBtn'));\n});\n"],"names":["$222ed02452e69802$var$originalTextArea","document","getElementById","$222ed02452e69802$var$modifiedTextArea","$222ed02452e69802$var$diffResponseArea","$222ed02452e69802$var$diffResponseContainer","$222ed02452e69802$var$errorContainer","$222ed02452e69802$var$findDiffBtn","$222ed02452e69802$var$returnPattern","RegExp","$222ed02452e69802$var$originalTextAreaEditor","CodeMirror","fromTextArea","value","lineNumbers","$222ed02452e69802$var$modifiedTextAreaEditor","addEventListener","getValue","message","classList","add","textContent","remove","diffParser","diff_match_patch","diff","diff_main","diff_cleanupEfficiency","diffText","innerHTML","$222ed02452e69802$var$showDiff","diff_prettyHtml","replace","existingText","querySelector","scrollText","createElement","className","insertBefore"],"version":3,"file":"diff.a44ef50c.js.map"}