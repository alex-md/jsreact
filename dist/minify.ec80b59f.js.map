{"mappings":"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","sources":["src/scripts/minify.js"],"sourcesContent":["let DOM = {\n    go: document.getElementById(\"go\"),\n    input: document.getElementById(\"input\"),\n    output: document.getElementById(\"output\"),\n    stats: document.getElementById(\"stats\"),\n    log: document.getElementById(\"log\"),\n    optionsWrapper: document.getElementById(\"options\"),\n    options: {}\n};\nfunction initializeOptions() {\n    createOptions({\n        compilation_level: {\n            names: [\n                \"Whitespace\",\n                \"Simple\",\n                \"Advanced\"\n            ],\n            values: [\n                \"WHITESPACE_ONLY\",\n                \"SIMPLE_OPTIMIZATIONS\",\n                \"ADVANCED_OPTIMIZATIONS\"\n            ],\n            default: \"SIMPLE_OPTIMIZATIONS\",\n            label: \"Compilation Level\"\n        },\n        formatting: {\n            names: [\n                \"Pretty print\",\n                \"Print input delimiter\"\n            ],\n            values: [\n                \"pretty_print\",\n                \"print_input_delimiter\"\n            ],\n            default: \"pretty_print\",\n            label: \"Formatting\"\n        }\n    }, DOM.optionsWrapper, DOM.options);\n}\nfunction createOptions(options, wrapper, domOptions) {\n    let row;\n    let keys = Object.keys(options);\n    for (let i = 0; i < keys.length; i++) {\n        i % 2 == 0 && ((row = document.createElement(\"div\")).classList.add(\"row\"), wrapper.appendChild(row));\n        let col = document.createElement(\"div\");\n        col.classList.add(\"col-sm-6\");\n        let inputgroup = document.createElement(\"div\");\n        inputgroup.classList.add(\"input-group\");\n        let inputgroupprepend = document.createElement(\"div\");\n        inputgroupprepend.classList.add(\"input-group-prepend\");\n        let title = document.createElement(\"span\");\n        title.classList.add(\"input-group-text\"), title.innerHTML = options[keys[i]].label;\n        let select = document.createElement(\"select\");\n        select.classList.add(\"form-control\"), domOptions[keys[i]] = select;\n        let selectoptions = options[keys[i]];\n        for (let j = 0; j < selectoptions.names.length; j++) {\n            let option = document.createElement(\"option\");\n            option.value = selectoptions.values[j], option.innerHTML = selectoptions.names[j], select.appendChild(option);\n        }\n        select.value = selectoptions.default, inputgroupprepend.appendChild(title), inputgroup.appendChild(inputgroupprepend), inputgroup.appendChild(select), col.appendChild(inputgroup), row.appendChild(col);\n    }\n}\nfunction compile() {\n    DOM.go.disabled = true;\n    // Create a new span element for the spinner\n    let spinner = document.createElement(\"span\");\n    spinner.classList.add(\"spinner-border\", \"spinner-border-sm\", \"small-border\", \"my-auto\", \"mx-auto\");\n    spinner.setAttribute(\"role\", \"status\");\n    spinner.setAttribute(\"aria-hidden\", \"true\");\n\n    // Add the spinner to the button\n    DOM.go.innerHTML = \"\";\n    DOM.go.innerHTML += \"Compiling... \";\n    DOM.go.appendChild(spinner);\n\n    let url = buildURL('https://closure-compiler.appspot.com/compile', {\n        js_code: DOM.input.value,\n        compilation_level: DOM.options.compilation_level.value,\n        output_format: 'json',\n        output_info: ['compiled_code', 'warnings', 'errors', 'statistics'],\n        formatting: DOM.options.formatting.value,\n        language_out: 'ECMASCRIPT_2015'\n    });\n\n    let callback = function (data) {\n        let parsed;\n        try {\n            parsed = JSON.parse(data);\n        } catch (error) {\n            showError(\"Invalid response from the API.\");\n            return;\n        }\n\n        if (parsed.errors && parsed.errors.length > 0) {\n            showError(\"Compilation error: \" + parsed.errors[0].error + \" on line \" + parsed.errors[0].lineno);\n            return;\n        }\n\n        if (parsed.compiledCode) {\n            DOM.output.innerHTML = parsed.compiledCode.replace(/^\\s*'use strict';\\s*/, '').trim();\n            DOM.output.style.color = '#000';\n        }\n\n        if (parsed.statistics) {\n            let s = parsed.statistics;\n            DOM.stats.innerHTML = `Compressed ${s.originalSize} bytes down to ${s.compressedSize} bytes (${Math.round((s.originalSize - s.compressedSize) / s.originalSize * 100)}%)`;\n        }\n\n        // Remove the spinner from the button when compiling is done\n        DOM.go.innerHTML = 'Compile!';\n        DOM.go.disabled = false;\n        clearInterval(blinkingInterval);\n        DOM.go.classList.remove('blink');\n        DOM.go.classList.add('btn-success');\n    };\n\n    let xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function () {\n        if (this.readyState === 4) {\n            if (this.status === 200) {\n                callback.call(window, xhttp.responseText);\n            } else {\n                showError(\"An error occurred during the request.\");\n            }\n        }\n    };\n\n    xhttp.open('POST', url);\n    xhttp.withCredentials = false;\n    xhttp.send();\n}\nfunction showError(errorMessage) {\n    DOM.output.innerHTML = errorMessage;\n    DOM.output.style.color = '#b22b27';\n    DOM.go.innerHTML = 'Compile!';\n    DOM.go.disabled = false;\n    clearInterval(blinkingInterval);\n    DOM.go.classList.remove('blink');\n    DOM.go.classList.add('btn-danger');\n}\n\nfunction buildURL(domain, params) {\n    if (!domain.includes('?')) {\n        domain += '?';\n    }\n\n    for (let key in params) {\n        if (Array.isArray(params[key])) {\n            params[key].forEach(param => addParameter(key, param));\n        } else {\n            addParameter(key, params[key]);\n        }\n    }\n\n    function addParameter(key, param) {\n        domain += `${key}=${encodeURIComponent(param)}&`;\n    }\n\n    return domain.slice(0, -1);\n}\n\nfunction blink() {\n    DOM.go.classList.add('blink');\n    let blinkingInterval1 = setInterval(() => {\n        DOM.go.classList.toggle('');\n    }, 500);\n\n    setTimeout(() => {\n        clearInterval(blinkingInterval1);\n    }, 5000);\n\n    compile();\n}\n\nDOM.go.onclick = blink;\ninitializeOptions();\n"],"names":["$d58cd88431ac1573$var$DOM","go","document","getElementById","input","output","stats","log","optionsWrapper","options","$d58cd88431ac1573$var$compile","disabled","spinner","createElement","classList","add","setAttribute","innerHTML","appendChild","url","domain","params","includes","key","Array","isArray","forEach","param","addParameter","encodeURIComponent","slice","$d58cd88431ac1573$var$buildURL","js_code","value","compilation_level","output_format","output_info","formatting","language_out","callback","data","parsed","JSON","parse","error","$d58cd88431ac1573$var$showError","errors","length","lineno","compiledCode","replace","trim","style","color","statistics","s","originalSize","compressedSize","Math","round","clearInterval","blinkingInterval","remove","xhttp","XMLHttpRequest","onreadystatechange","this","readyState","status","call","window","responseText","open","withCredentials","send","errorMessage","onclick","blinkingInterval1","setInterval","toggle","setTimeout","wrapper","domOptions","row","keys","Object","i","col","inputgroup","inputgroupprepend","title","label","select","selectoptions","j","names","option","values","default","$d58cd88431ac1573$var$createOptions"],"version":3,"file":"minify.ec80b59f.js.map"}