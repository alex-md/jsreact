const e=document.getElementById("input-text"),t=document.getElementById("submit-button"),n=document.getElementById("response"),o=document.getElementById("api-key-input"),a=[],s=/^sk-[A-Za-z0-9]/;t.addEventListener("click",(async function(t){t.preventDefault();const c=e.value.trim(),i=o.value.trim();if(!i)return void(n.textContent="Please enter an API key");if(!s.test(i))return void(n.textContent="Invalid API key");n.textContent="",n.textContent="Loading...";try{const t=await async function(e,t){const n={model:"gpt-3.5-turbo",messages:[...a.map((e=>({role:"user",content:e}))),{role:"user",content:e}],temperature:.7,max_tokens:160,top_p:1,frequency_penalty:0,presence_penalty:0},o={method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(n)},s=await fetch("https://api.openai.com/v1/chat/completions",o);return(await s.json()).choices[0].message.content}(c,i);a.push(t),n.innerHTML=a.map((e=>`<p class="chat-message">${e}</p>`)).join(""),e.value=""}catch(e){console.error(e)}})),e.addEventListener("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),t.click())}));
//# sourceMappingURL=chat.8279ce6f.js.map
